<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mess Slot Booking - MMMUT</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="auth-container">
        <section id="login-form" aria-labelledby="login-heading">
            <div class="logo-container">
                <img src="1.png" alt="MMMUT Logo" class="logo">
                <span class="logo-text">MMMUT</span>
            </div>
            <h2 id="login-heading">Student Login</h2>
            <form id="loginForm">
                <input type="email" id="login-email" placeholder="Email or Username" required aria-required="true">
                <div class="password-container">
                    <div class="password-input">
                        <input type="password" id="login-password" placeholder="Password" required aria-required="true">
                        <span class="toggle-password" onclick="togglePassword('login-password')">ðŸ™ˆ</span>
                    </div>
                </div>
                <div class="captcha-container">
                    <div class="captcha-input">
                        <input type="text" id="login-captcha" placeholder="CAPTCHA" required aria-required="true">
                        <span id="captcha-text"></span>
                        <button type="button" onclick="generateCaptcha()">Refresh</button>
                    </div>
                </div>
                <button type="button" onclick="login()" aria-label="Login">Login</button>
            </form>
            <p>Don't have an account? <span onclick="showRegisterForm()">Register</span></p>
            <p>Mess Committee? <span onclick="showMessCommitteeForm()">Login Here</span></p>
        </section>

        <section id="register-form" style="display: none;" aria-labelledby="register-heading">
            <div class="logo-container">
                <img src="1.png" alt="MMMUT Logo" class="logo">
                <span class="logo-text">MMMUT</span>
            </div>
            <h2 id="register-heading">Register</h2>
            <form id="registerForm">
                <input type="text" id="register-name" placeholder="Name" required aria-required="true">
                <input type="email" id="register-email" placeholder="Email" required aria-required="true">
                <input type="text" id="register-roll-number" placeholder="Roll Number" required aria-required="true">
                <select id="register-gender" required aria-required="true">
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
                <label for="register-profile-picture">Profile Picture</label>
                <input type="file" id="register-profile-picture" accept="image/*" required aria-required="true">
                <div class="password-container">
                    <div class="password-input">
                        <input type="password" id="register-password" placeholder="Password" required aria-required="true">
                        <span class="toggle-password" onclick="togglePassword('register-password')">ðŸ™ˆ</span>
                    </div>
                </div>
                <button type="button" onclick="register()" aria-label="Register">Register</button>
            </form>
            <p>Already have an account? <span onclick="showLoginForm()">Login</span></p>
        </section>

        <section id="mess-committee-form" style="display: none;" aria-labelledby="mess-committee-heading">
            <div class="logo-container">
                <img src="1.png" alt="MMMUT Logo" class="logo">
                <span class="logo-text">MMMUT</span>
            </div>
            <h2 id="mess-committee-heading">Mess Committee Login</h2>
            <form id="messCommitteeForm">
                <label for="mess-committee-email">Email</label>
                <input type="email" id="mess-committee-email" placeholder="Email" required aria-required="true">
                <div class="password-container">
                    <label for="mess-committee-password">Password</label>
                    <div class="password-input">
                        <input type="password" id="mess-committee-password" placeholder="Password" required aria-required="true">
                        <span class="toggle-password" onclick="togglePassword('mess-committee-password')">ðŸ™ˆ</span>
                    </div>
                </div>
                <button type="button" onclick="messCommitteeLogin()" aria-label="Mess Committee Login">Login</button>
            </form>
        </section>
    </div>

    <div id="main-container" style="display: none;">
        <header>
            <div class="logo-container">
                <img src="1.png" alt="MMMUT Logo" class="logo">
                <span class="logo-text">MMMUT</span>
            </div>
            <h1>Mess Slot Booking</h1>
            <div class="profile-photo-container">
                <img id="profile-photo" alt="Profile Photo" class="profile-photo">
            </div>
            <div class="date-selector">
                <label for="bookingDate">Select Date: </label>
                <input type="date" id="bookingDate">
            </div>
            <button id="darkModeToggle" aria-label="Toggle Dark Mode">ðŸŒ™</button>
        </header>

        <main>
            <section class="hostels">
                <h2>Hostel Selection</h2>
                <select id="hostelSelect">
                    <option value="Vishwasaraya">Vishwasaraya Bhawan (500 students)</option>
                    <option value="Tagore">Tagore Bhawan (500 students)</option>
                    <option value="Tilak">Tilak Bhawan (160 students)</option>
                    <option value="NewGirls">New Girls Hostel (200 students)</option>
                </select>
            </section>

            <section class="meal" id="breakfast">
                <h2 onclick="toggleSection('breakfastSlots')">Breakfast (7:30 - 9:30 AM) <span class="arrow">â–¼</span></h2>
                <div class="slots" id="breakfastSlots">
                    <p>Select your slot:</p>
                    <button class="slot-button" data-meal="Breakfast" data-time="7:30 - 8:00 AM">Book 7:30 - 8:00 AM</button>
                    <button class="slot-button" data-meal="Breakfast" data-time="8:00 - 8:30 AM">Book 8:00 - 8:30 AM</button>
                    <button class="slot-button" data-meal="Breakfast" data-time="8:30 - 9:00 AM">Book 8:30 - 9:00 AM</button>
                    <button class="slot-button" data-meal="Breakfast" data-time="9:00 - 9:30 AM">Book 9:00 - 9:30 AM</button>
                </div>
            </section>

            <section class="meal" id="lunch">
                <h2 onclick="toggleSection('lunchSlots')">Lunch (12:30 - 2:30 PM) <span class="arrow">â–¼</span></h2>
                <div class="slots" id="lunchSlots">
                    <p>Select your slot:</p>
                    <button class="slot-button" data-meal="Lunch" data-time="12:30 - 1:00 PM">Book 12:30 - 1:00 PM</button>
                    <button class="slot-button" data-meal="Lunch" data-time="1:00 - 1:30 PM">Book 1:00 - 1:30 PM</button>
                    <button class="slot-button" data-meal="Lunch" data-time="1:30 - 2:00 PM">Book 1:30 - 2:00 PM</button>
                    <button class="slot-button" data-meal="Lunch" data-time="2:00 - 2:30 PM">Book 2:00 - 2:30 PM</button>
                </div>
            </section>

            <section class="meal" id="snack">
                <h2 onclick="toggleSection('snackSlots')">Snack (5:00 - 6:30 PM) <span class="arrow">â–¼</span></h2>
                <div class="slots" id="snackSlots">
                    <p>Select your slot:</p>
                    <button class="slot-button" data-meal="Snack" data-time="5:00 - 5:15 PM">Book 5:00 - 5:15 PM</button>
                    <button class="slot-button" data-meal="Snack" data-time="5:15 - 5:30 PM">Book 5:15 - 5:30 PM</button>
                    <button class="slot-button" data-meal="Snack" data-time="5:30 - 5:45 PM">Book 5:30 - 5:45 PM</button>
                    <button class="slot-button" data-meal="Snack" data-time="5:45 - 6:00 PM">Book 5:45 - 6:00 PM</button>
                    <button class="slot-button" data-meal="Snack" data-time="6:00 - 6:15 PM">Book 6:00 - 6:15 PM</button>
                    <button class="slot-button" data-meal="Snack" data-time="6:15 - 6:30 PM">Book 6:15 - 6:30 PM</button>
                </div>
            </section>

            <section class="meal" id="dinner">
                <h2 onclick="toggleSection('dinnerSlots')">Dinner (8:00 - 10:00 PM) <span class="arrow">â–¼</span></h2>
                <div class="slots" id="dinnerSlots">
                    <p>Select your slot:</p>
                    <button class="slot-button" data-meal="Dinner" data-time="8:00 - 8:30 PM">Book 8:00 - 8:30 PM</button>
                    <button class="slot-button" data-meal="Dinner" data-time="8:30 - 9:00 PM">Book 8:30 - 9:00 PM</button>
                    <button class="slot-button" data-meal="Dinner" data-time="9:00 - 9:30 PM">Book 9:00 - 9:30 PM</button>
                    <button class="slot-button" data-meal="Dinner" data-time="9:30 - 10:00 PM">Book 9:30 - 10:00 PM</button>
                </div>
            </section>
        </main>
    </div>

    <div id="my-profile-page" style="display: none;">
        <header>
            <div class="logo-container">
                <img src="1.png" alt="MMMUT Logo" class="logo">
                <span class="logo-text">MMMUT</span>
            </div>
            <h1>My Profile</h1>
            <button id="backButton" onclick="showMainPage()" aria-label="Back">Back</button>
        </header>
        <main>
            <section id="profile-details">
                <div id="profile-photo-container">
                    <img id="profile-photo-large" alt="Profile Photo" class="profile-photo-large">
                    <button id="edit-profile-photo" aria-label="Edit Profile Photo">Edit</button>
                </div>
                <div id="user-details"></div>
                <div id="mySlotsContainer"></div>
                <div id="review-section">
                    <h2>Review</h2>
                    <div class="star-rating">
                        <span class="star" data-rating="1">â˜†</span>
                        <span class="star" data-rating="2">â˜†</span>
                        <span class="star" data-rating="3">â˜†</span>
                        <span class="star" data-rating="4">â˜†</span>
                        <span class="star" data-rating="5">â˜†</span>
                    </div>
                    <textarea id="review-text" placeholder="Write your review here..."></textarea>
                    <button onclick="submitReview()">Submit Review</button>
                </div>
                <div id="about-section">
                    <h2>About</h2>
                    <p>Ayush Dubey - Tushit Shaurya - Satyam Jaiswal</p>
                    <p>This website is designed to facilitate mess slot booking for students at MMMUT. It includes features like slot booking, profile management, and reviews.</p>
                </div>
            </section>
        </main>
    </div>

    <div id="mess-committee-container" style="display: none;">
        <header>
            <div class="logo-container">
                <img src="1.png" alt="MMMUT Logo" class="logo">
                <span class="logo-text">MMMUT</span>
            </div>
            <h1>Mess Committee Dashboard</h1>
        </header>
        <main>
            <section>
                <h2>Booked Slots</h2>
                <div id="bookedSlotsContainer"></div>
            </section>
            <section>
                <h2>Manage Hostels</h2>
                <button onclick="addHostel()">Add Hostel</button>
                <div id="hostelManagementContainer"></div>
            </section>
            <section>
                <h2>Hostel-wise Bookings</h2>
                <div id="hostelBookingsContainer"></div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
